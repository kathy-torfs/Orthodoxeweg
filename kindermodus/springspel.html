<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Phaser Springspel Demo</title>
  <script src="https://cdn.jsdelivr.net/npm/phaser@3.70.0/dist/phaser.min.js"></script>
  <style>
    body { margin:0; background: #cbefff; }
    #gameContainer { margin: 32px auto; width: 420px; }
  </style>
</head>
<body>
  <div id="gameContainer"></div>
  <script>
    // BASISCONFIG
    const config = {
      type: Phaser.AUTO,
      width: 400,
      height: 500,
      parent: 'gameContainer',
      backgroundColor: "#aee7ff",
      physics: {
        default: 'arcade',
        arcade: {
          gravity: { y: 900 }, // zwaartekracht
          debug: false
        }
      },
      scene: {
        preload,
        create,
        update
      }
    };

    let speler, cursors, springsleutel, gras;

    function preload() {
      // Plaatje voor Photeinos
      this.load.image('photeinos', 'https://kathy-torfs.github.io/Orthodoxeweg/images/photeinos_walk.png');
    }

    function create() {
      // Graszone
      gras = this.add.rectangle(200, 475, 400, 50, 0x8BC34A).setOrigin(0.5, 0.5);
      // Speler
      speler = this.physics.add.sprite(100, 440, 'photeinos').setScale(0.36).setCollideWorldBounds(true);
      speler.body.setSize(speler.width*0.7, speler.height*0.7, true);
      speler.setBounce(0.08);

      // Simuleer vloer
      speler.setCollideWorldBounds(true);

      // Controls
      cursors = this.input.keyboard.createCursorKeys();
      springsleutel = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);

      // Zodat hij op de 'vloer' blijft
      speler.body.setGravityY(0);
    }

    function update() {
      // Springen
      if ((Phaser.Input.Keyboard.JustDown(cursors.up) || Phaser.Input.Keyboard.JustDown(springsleutel)) && speler.body.touching.down) {
        speler.setVelocityY(-340);
      }
      // Niets extra's nodig: gravity doet de rest!
    }

    // Start spel
    new Phaser.Game(config);
  </script>
</body>
</html>
