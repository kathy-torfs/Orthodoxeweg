<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Photeinos Springspel</title>
  <link rel="icon" href="https://kathy-torfs.github.io/Orthodoxeweg/images/kruis.png">
  <style>
    body { margin:0; font-family:"Comic Sans MS", Arial, sans-serif; background:#fff6e5; }
    .center { max-width:1280px; margin:0 auto; padding:0 2vw 64px; }
    .game-card { background:#fff; border-radius:22px; box-shadow:0 10px 30px #0000001a; padding:16px; }
    .game-wrap { width:100%; max-width:1100px; aspect-ratio:21/9; margin:0 auto; border-radius:16px;
      overflow:hidden; background:#e0f7fa; position:relative; }
    canvas { display:block; width:100%; height:100%; }
    .hud { position:absolute; left:18px; bottom:16px;
      background:rgba(255,255,255,.82); backdrop-filter:blur(4px);
      padding:8px 10px; border-radius:10px; font-size:14px; color:#1e3a8a; }
    .start, .end, .modal { position:absolute; inset:0; display:grid; place-items:center; }
    .card { background:#fff; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,.2);
      padding:20px 22px; max-width:min(90%,560px); text-align:center; }
    .title { font-weight:700; color:#1e40af; margin:6px 0; }
    .btn { border:0; border-radius:10px; background:#0ea5e9; color:#fff;
      padding:10px 14px; font-weight:600; cursor:pointer; }
    .btn:active { transform:translateY(1px); }
    .ghost { background:#eff6ff; color:#1e40af; }
    .answers { display:grid; gap:8px; margin-top:10px; }
    .answers.two { grid-template-columns:repeat(2,minmax(0,1fr)); }
    .answers .btn { background:#111827; color:#fff; border:1px solid #374151; }
  </style>

  <!-- Firebase compat -->
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore-compat.js"></script>
  <!-- Kinder lay-out -->
  <script defer src="common/layout.js"></script>
</head>
<body>
  <!-- Header wordt hier ingeladen -->
  <div id="kinder-header" data-header-src="common/header.html"></div>

  <!-- Inhoud van de pagina -->
  <div class="center">
    <div class="game-card">
      <div class="game-wrap" id="gameRoot">
        <canvas id="game"></canvas>
        <div class="hud" id="hud">Level 1/5 ‚Ä¢ Vragen 0/10 ‚Ä¢ Score 0 ‚Ä¢ Totaal 0</div>

        <div class="start" id="start">
          <div class="card">
            <div class="title">Photeinos Springspel</div>
            <div style="color:#334155;margin-bottom:10px">
              Tik/klik of druk <strong>spatie</strong> om te springen.<br/>
              Vang üïäÔ∏è üçá üíé ü™Ω om vragen te beantwoorden.<br/>
              Ontwijk üì¶ üåµ üêç üî• ‚Äì die zijn gevaarlijk!
            </div>
            <div class="badge">5 levels ‚Ä¢ kost 20 punten ‚Ä¢ +2 per level</div>
            <div style="margin-top:12px"><button class="btn" id="startBtn">Start spel (20)</button></div>
          </div>
        </div>

        <div class="modal" id="question" style="display:none">
          <div class="card" id="qCard">
            <div id="qText" class="title" style="margin:0 0 10px"></div>
            <div id="qAnswers" class="answers"></div>
          </div>
        </div>

        <div class="end" id="end" style="display:none">
          <div class="card">
            <div class="title">Spel afgelopen!</div>
            <div id="endText" style="color:#14532d;margin:8px 0 12px"></div>
            <button class="btn" id="again">Speel opnieuw (20)</button>
            <button class="btn ghost" id="back" style="margin-left:8px">Terug</button>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
// --------------------------
// Vragen (verkort testversie)
// --------------------------
 const lichtVragen = [
      { vraag: "Wat doe je als je wakker wordt?", opties: ["Een kort gebedje bidden", "Je bed uit springen zonder God te groeten"], juist: 0 },
      { vraag: "Wat doe je met het kruisteken?", opties: ["Je begint en eindigt je gebed ermee", "Alleen doen als anderen kijken"], juist: 0 },
      { vraag: "Wat betekent 'Amen'?", opties: ["Ik geloof het/zo is het", "Einde, klaar!"], juist: 0 },
      { vraag: "Wat doe je op zondag als je kan?", opties: ["Naar de kerk gaan", "Thuisblijven omdat uitslapen belangrijker is"], juist: 0 },
      { vraag: "Wat is bidden?", opties: ["Praten met God", "Alleen iets vragen als je iets wil"], juist: 0 },
      { vraag: "Waarom maken we buigingen in de kerk?", opties: ["Om eerbied voor God te tonen", "Omdat iedereen het doet"], juist: 0 },
      { vraag: "Wat doe je bij een icoon?", opties: ["Een kruisteken maken en een kus geven", "Ertegen duwen"], juist: 0 },

      { vraag: "Een kind zit alleen op de speelplaats. Wat doe je?", opties: ["Je nodigt hem/haar uit", "Je doet alsof je het niet ziet"], juist: 0 },
      { vraag: "Iemand heeft honger. Wat is goed?", opties: ["Delen van je eten", "Doen alsof je niets merkt"], juist: 0 },
      { vraag: "Een klasgenoot heeft verdriet. Wat past bij Jezus?", opties: ["Troosten en luisteren", "Weglopen"], juist: 0 },
      { vraag: "Iemand maakt een fout. Wat doe je?", opties: ["Vergeven en opnieuw proberen", "Boos blijven en pesten"], juist: 0 },
      { vraag: "Je broer of zus wil meespelen.", opties: ["Samen delen", "Alleen zelf spelen"], juist: 0 },
      { vraag: "Wat betekent de 'gouden regel'?", opties: ["Doe voor anderen wat je zelf zou willen", "Doe altijd wat jij wil"], juist: 0 },

      { vraag: "Je brak per ongeluk iets. Wat is juist?", opties: ["Eerlijk zeggen wat er gebeurde", "Zwijgen zodat niemand het weet"], juist: 0 },
      { vraag: "De juf stelt een vraag en je weet het niet zeker.", opties: ["Eerlijk zijn en proberen", "Afkijken bij de buur"], juist: 0 },
      { vraag: "Wat betekent het 8e gebod?", opties: ["Niet liegen", "Altijd gelijk willen hebben"], juist: 0 },

      { vraag: "Mama vraagt hulp bij de tafel. Wat doe je?", opties: ["Je helpt meteen", "Je doet alsof je het niet hoorde"], juist: 0 },
      { vraag: "Hoe toon je respect thuis?", opties: ["Met dankjewel en alstublieft", "Door te roepen als je iets wil"], juist: 0 },
      { vraag: "Wat doe je in de kerk?", opties: ["Stil zijn en meebidden", "Rondlopen en praten"], juist: 0 },

      { vraag: "Je kreeg twee koekjes en je vriend geen.", opties: ["Je deelt er √©√©n", "Je eet ze allebei op"], juist: 0 },
      { vraag: "Iemand heeft mooier speelgoed.", opties: ["Blij zijn met wat je hebt", "Jaloers doen"], juist: 0 },
      { vraag: "Wat zegt Jezus over rijk zijn?", opties: ["Het is beter te delen dan alles zelf te houden", "Je moet zoveel mogelijk verzamelen"], juist: 0 },

      { vraag: "Wat lees je in de Bijbel?", opties: ["Gods Woord", "Grappige mopjes"], juist: 0 },
      { vraag: "Wat is vasten (simpel)?", opties: ["Minder nemen om dichter bij God te zijn", "Niet eten om sneller te zijn"], juist: 0 },
      { vraag: "Wat betekent Pasen?", opties: ["De verrijzenis van Jezus", "Eieren rapen"], juist: 0 },
      { vraag: "Wat vieren we met Kerstmis?", opties: ["De geboorte van Jezus", "Een groot feest met cadeaus"], juist: 0 },
      { vraag: "Wat betekent Pinksteren?", opties: ["De komst van de Heilige Geest", "Dat de zomer begint"], juist: 0 },

      { vraag: "Wat doet het doopsel?", opties: ["Maakt je kind van God", "Geeft superkrachten"], juist: 0 },
      { vraag: "Wat is de communie?", opties: ["Jezus die bij ons komt in de Eucharistie", "Gewoon brood"], juist: 0 },
      { vraag: "Wat gebeurt er bij de biecht?", opties: ["Je krijgt vergeving van God", "Je vertelt een verhaaltje"], juist: 0 },
      { vraag: "Waarom zalven we met olie?", opties: ["Als teken van de Heilige Geest", "Omdat het lekker ruikt"], juist: 0 },

      { vraag: "Wie leerde ons het Onze Vader?", opties: ["Jezus", "Petrus"], juist: 0 },
      { vraag: "Wat betekent ‚Äònaaste‚Äô?", opties: ["Iedereen die God op je weg plaatst", "Alleen je beste vriend"], juist: 0 },
      { vraag: "Wie is de Moeder van Jezus?", opties: ["Maria", "Eva"], juist: 0 },
      { vraag: "Wat deden de apostelen?", opties: ["Ze verkondigden Jezus", "Ze bleven thuis"], juist: 0 },
      { vraag: "Wie schreef de evangeli√´n?", opties: ["Matte√ºs, Marcus, Lucas en Johannes", "Mozes"], juist: 0 },

      { vraag: "Wat is beter?", opties: ["Eerlijk en vriendelijk zijn", "Stoer doen"], juist: 0 },
      { vraag: "Je wordt boos. Wat is goed?", opties: ["Rustig worden en praten", "Meteen schreeuwen"], juist: 0 },
      { vraag: "Wat doe je met je talenten?", opties: ["Je gebruikt ze om goed te doen", "Alleen om beter te zijn"], juist: 0 },
      { vraag: "Hoe toon je dankbaarheid?", opties: ["Door God en mensen te bedanken", "Door alles vanzelfsprekend te vinden"], juist: 0 },
      { vraag: "Wat is nederigheid?", opties: ["Weten dat alles een gave van God is", "Altijd opscheppen"], juist: 0 },

      { vraag: "Wat doe je met afval buiten?", opties: ["In de vuilnisbak gooien", "Laten liggen"], juist: 0 },
      { vraag: "Hoe ga je om met dieren?", opties: ["Zorgzaam en zacht", "Plagen voor de lol"], juist: 0 },
      { vraag: "Waarom danken we voor eten?", opties: ["Omdat alles van God komt", "Omdat het moet"], juist: 0 },
      { vraag: "Wat betekent rentmeesterschap?", opties: ["Goed zorgen voor Gods schepping", "Alles gebruiken voor jezelf"], juist: 0 },

      { vraag: "Op de beurt wachten is‚Ä¶", opties: ["Eerlijk en vriendelijk", "Saai en dus niet nodig"], juist: 0 },
      { vraag: "Iemand stelt een domme vraag.", opties: ["Respectvol antwoorden", "Uitlachen"], juist: 0 },
      { vraag: "Hoe maak je vrede na ruzie?", opties: ["Sorry zeggen en vergeven", "Doen alsof het niet gebeurde"], juist: 0 }
    ];

    // -----------------------------
    // ZONDE-VRAGEN (50 stuks)
    // -----------------------------
    const zondeVragen = [
      { vraag: "God helemaal vergeten en nooit bidden is goed.", fout: 1 },
      { vraag: "Grappen maken over God in de kerk is goed.", fout: 1 },
      { vraag: "Alleen geld en spelletjes belangrijk vinden is juist.", fout: 1 },

      { vraag: "De Naam van God lelijk gebruiken is toegestaan.", fout: 1 },
      { vraag: "Schelden met heilige woorden is ok√©.", fout: 1 },

      { vraag: "De zondag is alleen voor spel en nooit voor God.", fout: 1 },
      { vraag: "De kerk overslaan omdat je geen zin hebt is juist.", fout: 1 },

      { vraag: "Je ouders expres negeren is juist.", fout: 1 },
      { vraag: "Met respect praten tegen ouders en juf is niet nodig.", fout: 1 },
      { vraag: "Ouders uitlachen is goed.", fout: 1 },

      { vraag: "Iemand pijn doen voor de grap mag.", fout: 1 },
      { vraag: "Pesten of iemand buitensluiten is goed.", fout: 1 },
      { vraag: "Schelden en slaan lost problemen op.", fout: 1 },

      { vraag: "Over het lichaam van anderen grapjes maken is goed.", fout: 1 },
      { vraag: "Onzuivere praatjes zijn ok√©.", fout: 1 },

      { vraag: "Iets meenemen dat niet van jou is mag.", fout: 1 },
      { vraag: "Jaloers doen en alles voor jezelf willen is goed.", fout: 1 },
      { vraag: "Altijd meer speelgoed willen dan je vrienden is juist.", fout: 1 },

      { vraag: "Liegen om uit de problemen te blijven is toegestaan.", fout: 1 },
      { vraag: "Roddelen over iemand is goed.", fout: 1 },
      { vraag: "Beloofde dingen niet nakomen is ok√©.", fout: 1 },

      { vraag: "In de kerk hard roepen en rennen mag.", fout: 1 },
      { vraag: "Tijdens gebed expres grapjes maken is goed.", fout: 1 },
      { vraag: "Niet luisteren tijdens de lezingen is juist.", fout: 1 },

      { vraag: "Iemand met honger negeren is juist.", fout: 1 },
      { vraag: "Niet willen delen met wie niets heeft is goed.", fout: 1 },
      { vraag: "Zieken niet bezoeken is juist.", fout: 1 },

      { vraag: "Afval op straat gooien is ok√©.", fout: 1 },
      { vraag: "Dieren plagen mag.", fout: 1 },
      { vraag: "Water verspillen en energie verkwisten is juist.", fout: 1 },

      { vraag: "Spieken en valsspelen is toegestaan.", fout: 1 },
      { vraag: "Je beurt afpakken in de rij is goed.", fout: 1 },
      { vraag: "Vrienden buitensluiten bij spel is juist.", fout: 1 },

      { vraag: "Schelden en lelijke woorden gebruiken is ok√©.", fout: 1 },
      { vraag: "Vloeken mag altijd.", fout: 1 },

      { vraag: "Nooit vergeven en altijd boos blijven is juist.", fout: 1 },
      { vraag: "Wraak nemen is de beste oplossing.", fout: 1 },

      { vraag: "Nooit dankjewel zeggen is goed.", fout: 1 },
      { vraag: "Altijd klagen is juist.", fout: 1 },

      { vraag: "Opscheppen en anderen klein maken is goed.", fout: 1 },
      { vraag: "Altijd gelijk willen hebben is juist.", fout: 1 },

      { vraag: "Altijd schermtijd kiezen boven gebed of gezin is juist.", fout: 1 },
      { vraag: "Verslaafd zijn aan spelletjes is goed.", fout: 1 },

      { vraag: "Een fout verbergen en een ander de schuld geven is toegestaan.", fout: 1 },
      { vraag: "Eerlijkheid is niet nodig.", fout: 1 },

      { vraag: "Anderen uitlachen om hun geloof is juist.", fout: 1 },
      { vraag: "Bidden voor anderen is tijdverlies.", fout: 1 },
      { vraag: "Geen respect tonen voor priesters of catecheten is goed.", fout: 1 }
    ];
  </script>
// --------------------------
// Variabelen spel
// --------------------------
let punten = 0, level = 1, vragenTeller = 0;
let running = false;

// --------------------------
// Setup canvas
// --------------------------
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
function resize() {
  canvas.width = canvas.clientWidth;
  canvas.height = canvas.clientHeight;
}
window.addEventListener("resize", resize);
resize();

// --------------------------
// Speler (Photeinos)
// --------------------------
const playerImg = new Image();
playerImg.src = "photeinos_walk.gif";
let player = { x:100, y:200, vy:0, size:50 };

// --------------------------
// Game loop basis
// --------------------------
let items = [];
function loop() {
  if (!running) return;
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Player tekenen
  ctx.drawImage(playerImg, player.x, player.y, player.size, player.size);

  // Gravity
  player.vy += 0.8;
  player.y += player.vy;
  if (player.y > canvas.height-50) player.y = canvas.height-50;

  // Items tekenen
  for (let obj of items) {
    ctx.font = "32px serif";
    ctx.fillText(obj.icon, obj.x, obj.y);
    obj.x -= 3;
    // Collision check
    if (Math.abs(obj.x-player.x)<30 && Math.abs(obj.y-player.y)<30) {
      if (obj.type==="item") askMeerkeuze();
      if (obj.type==="obstacle") askZonde();
      items.splice(items.indexOf(obj),1);
    }
  }

  requestAnimationFrame(loop);
}

// --------------------------
// Vragen tonen
// --------------------------
function askMeerkeuze() {
  running=false;
  const q = meerkeuzeVragen[Math.floor(Math.random()*meerkeuzeVragen.length)];
  document.getElementById("qText").textContent=q.vraag;
  const answers=document.getElementById("qAnswers");
  answers.innerHTML="";
  q.opties.forEach((opt,i)=>{
    const btn=document.createElement("button");
    btn.className="btn";
    btn.textContent=opt;
    btn.onclick=()=>{
      if(i===q.juist){
        vragenTeller++;
        if (vragenTeller>=10) { level++; punten+=2; vragenTeller=0; if(level>5) endGame(); }
        updateHud();
      }
      closeModal();
    };
    answers.appendChild(btn);
  });
  document.getElementById("question").style.display="grid";
}

function askZonde() {
  running=false;
  const q = zondeVragen[Math.floor(Math.random()*zondeVragen.length)];
  document.getElementById("qText").textContent=q.vraag;
  const answers=document.getElementById("qAnswers");
  answers.innerHTML="";
  ["Ja","Nee"].forEach((opt,i)=>{
    const btn=document.createElement("button");
    btn.className="btn";
    btn.textContent=opt;
    btn.onclick=()=>{
      if((i===0 && q.juist===0)||(i===1 && q.juist===1)){
        closeModal();
      } else {
        endGame();
      }
    };
    answers.appendChild(btn);
  });
  document.getElementById("question").style.display="grid";
}

function closeModal(){ document.getElementById("question").style.display="none"; running=true; loop(); }

// --------------------------
// HUD en einde
// --------------------------
function updateHud(){
  document.getElementById("hud").textContent=`Level ${level}/5 ‚Ä¢ Vragen ${vragenTeller}/10 ‚Ä¢ Score ${punten}`;
}
function endGame(){
  running=false;
  document.getElementById("end").style.display="grid";
  document.getElementById("endText").textContent=`Eindscore: ${punten} punten ‚Ä¢ Level ${level}`;
}

// --------------------------
// Controls
// --------------------------
window.addEventListener("keydown", e=>{ if(e.code==="Space"){ player.vy=-10; }});

// --------------------------
// Start knop
// --------------------------
document.getElementById("startBtn").onclick=()=>{
  punten-=20;
  level=1; vragenTeller=0; updateHud();
  document.getElementById("start").style.display="none";
  running=true; loop();
};
document.getElementById("again").onclick=()=>{ location.reload(); };
document.getElementById("back").onclick=()=>{ history.back(); };
</script>
</body>
</html>
