<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Photeinos Spel â€“ Orthodoxe Kinderpagina</title>
  <link rel="icon" href="https://kathy-torfs.github.io/Orthodoxeweg/images/kruis.png">
  <style>
    :root {
      --primair: #7bb235;
      --donker: #67510C;
      --pastel1: #fff6e5; --pastel2: #fffde6; --pastel3: #ffe8ec; --pastel4: #e7f8ff;
      --pastel5: #e6ffe5; --pastel6: #fff2fb; --pastel7: #f5ffe5; --pastel8: #f5e8ff;
    }
    body {
      margin: 0;
      font-family: 'Comic Sans MS', Arial, sans-serif;
      background-color: var(--pastel1);
      color: var(--donker);
    }
    header {
      background-color: var(--primair);
      padding: 15px;
      text-align: center;
      font-size: 1.6em;
      font-weight: bold;
      color: white;
    }
    nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      background-color: var(--pastel2);
      border-bottom: 3px solid var(--primair);
    }
    nav a {
      padding: 10px 15px;
      text-decoration: none;
      color: var(--donker);
      font-weight: bold;
    }
    nav a:hover { background-color: var(--pastel3); }

    #game-container {
      position: relative;
      width: 100%;
      height: 500px;
      overflow: hidden;
      background-size: cover;
      background-position: center;
    }

    #photeinos {
      position: absolute;
      bottom: 0;
      left: 50px;
      width: 100px;
      height: auto;
    }

    .obstacle, .collectible {
      position: absolute;
      bottom: 0;
      font-size: 40px;
    }

    #question-box {
      position: absolute;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      border: 2px solid var(--donker);
      padding: 20px;
      display: none;
      z-index: 10;
      width: 80%;
      max-width: 400px;
    }
    #question-box button {
      display: block;
      margin: 10px auto;
      padding: 10px;
      background: var(--primair);
      color: white;
      border: none;
      cursor: pointer;
      font-size: 1em;
    }
    #question-box button:hover { background: var(--donker); }
  </style>
</head>
<body>
  <header>Welkom bij de Orthodoxe Kinderpagina</header>
  <nav>
    <a href="#">Ik bid</a>
    <a href="#">Bijbelverhalen</a>
    <a href="#">Spelletjes</a>
    <a href="#">Mijn punten</a>
  </nav>

  <div id="game-container">
    <img id="photeinos" src="https://kathy-torfs.github.io/Orthodoxeweg/images/photeinos_walk.png" alt="Photeinos">
    <div id="question-box">
      <p id="question-text"></p>
      <div id="answers"></div>
    </div>
  </div>

  <script>
    // -------------------------------
    // Vragenlijsten
    // -------------------------------
    const meerkeuzeVragen = [
      { vraag: "Wat doe je als je wakker wordt?", opties: ["Een kort gebedje bidden", "Je bed uit springen"], juist: 0 },
      { vraag: "Wat betekent 'Amen'?", opties: ["Ik geloof het/zo is het", "Einde, klaar!"], juist: 0 },
      { vraag: "Wat doe je op zondag?", opties: ["Naar de kerk gaan", "Thuisblijven"], juist: 0 },
      { vraag: "Wat doe je in de kerk?", opties: ["Stil zijn en meebidden", "Rondlopen en praten"], juist: 0 }
    ];
    const zondeVragen = [
      { vraag: "God helemaal vergeten en nooit bidden is goed.", juist: 1 },
      { vraag: "De zondag is alleen voor spel en nooit voor God.", juist: 1 },
      { vraag: "Pesten of iemand buitensluiten is goed.", juist: 1 }
    ];

    // -------------------------------
    // Spelvariabelen
    // -------------------------------
    let level = 1;
    const maxLevel = 5;
    let score = 0;
    let vleugels = 0;
    const game = document.getElementById("game-container");
    const photeinos = document.getElementById("photeinos");
    const questionBox = document.getElementById("question-box");
    const questionText = document.getElementById("question-text");
    const answersDiv = document.getElementById("answers");

    // Achtergronden per level
    const backgrounds = {
      1: "https://kathy-torfs.github.io/Orthodoxeweg/images/level1.png",
      2: "https://kathy-torfs.github.io/Orthodoxeweg/images/level2.png",
      3: "https://kathy-torfs.github.io/Orthodoxeweg/images/level3.png",
      4: "https://kathy-torfs.github.io/Orthodoxeweg/images/level4.png",
      5: "https://kathy-torfs.github.io/Orthodoxeweg/images/level5.png"
    };

    function setBackground() {
      game.style.backgroundImage = `url('${backgrounds[level]}')`;
    }
    setBackground();

    // -------------------------------
    // Obstakels & collectibles
    // -------------------------------
    function spawnObstacle() {
      const obs = document.createElement("div");
      obs.classList.add("obstacle");
      const symbols = ["ðŸª¨","ðŸ”¥","ðŸ"];
      obs.textContent = symbols[Math.floor(Math.random()*symbols.length)];
      obs.style.left = "100%";
      game.appendChild(obs);

      let pos = game.offsetWidth;
      const interval = setInterval(() => {
        pos -= 3;
        obs.style.left = pos + "px";
        if (pos < -50) { obs.remove(); clearInterval(interval); }
        checkCollision(obs, interval, "zonde");
      }, 20);
    }

    function spawnCollectible() {
      const col = document.createElement("div");
      col.classList.add("collectible");
      const symbols = ["ðŸª½","ðŸ•Šï¸","ðŸ˜‡"];
      col.textContent = symbols[Math.floor(Math.random()*symbols.length)];
      col.style.left = "100%";
      col.style.bottom = "100px";
      game.appendChild(col);

      let pos = game.offsetWidth;
      const interval = setInterval(() => {
        pos -= 2;
        col.style.left = pos + "px";
        if (pos < -50) { col.remove(); clearInterval(interval); }
        checkCollision(col, interval, "licht");
      }, 20);
    }

    // -------------------------------
    // Botsingsdetectie
    // -------------------------------
    function checkCollision(el, interval, type) {
      const pRect = photeinos.getBoundingClientRect();
      const eRect = el.getBoundingClientRect();
      if (!(pRect.right < eRect.left || pRect.left > eRect.right || pRect.bottom < eRect.top || pRect.top > eRect.bottom)) {
        clearInterval(interval);
        el.remove();
        showQuestion(type);
      }
    }

    // -------------------------------
    // Vraag tonen
    // -------------------------------
    function showQuestion(type) {
      questionBox.style.display = "block";
      answersDiv.innerHTML = "";

      if (type === "licht") {
        const q = meerkeuzeVragen[Math.floor(Math.random()*meerkeuzeVragen.length)];
        questionText.textContent = q.vraag;
        q.opties.forEach((opt,i) => {
          const btn = document.createElement("button");
          btn.textContent = opt;
          btn.onclick = () => {
            questionBox.style.display = "none";
            if (i === q.juist) {
              vleugels++;
              if (vleugels >= 10) nextLevel();
            }
          };
          answersDiv.appendChild(btn);
        });
      } else {
        const q = zondeVragen[Math.floor(Math.random()*zondeVragen.length)];
        questionText.textContent = q.vraag + " (Ja/Nee)";
        ["Ja","Nee"].forEach((opt,i) => {
          const btn = document.createElement("button");
          btn.textContent = opt;
          btn.onclick = () => {
            questionBox.style.display = "none";
            if (i === q.juist) {
              // fout = game over
              alert("Game Over!");
              location.reload();
            }
          };
          answersDiv.appendChild(btn);
        });
      }
    }

    // -------------------------------
    // Level wissel
    // -------------------------------
    function nextLevel() {
      level++;
      vleugels = 0;
      if (level > maxLevel) {
        alert("Proficiat! Je hebt het spel uitgespeeld!");
        location.reload();
      } else {
        setBackground();
        alert("Level " + level);
      }
    }

    // -------------------------------
    // Spawner
    // -------------------------------
    setInterval(spawnObstacle, 4000);
    setInterval(spawnCollectible, 5000);
  </script>
</body>
</html>
