// FIREBASE INIT
const firebaseConfig = {
  apiKey: "AIzaSyBG1iQBmruHUZI1OeW8RgbJ_TPit_7a2LQ",
  authDomain: "orthodoxeweg.firebaseapp.com",
  projectId: "orthodoxeweg",
  storageBucket: "orthodoxeweg.appspot.com",
  messagingSenderId: "408582263618",
  appId: "1:408582263618:web:0a20f4bf0704989d3ceedb"
};
if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// Ophalen & tonen
window.addEventListener('DOMContentLoaded', async () => {
  let docRef = db.collection("parochies").doc(parochieId).collection("leden").doc(loginKeuze);
  let doc = await docRef.get();
  if (!doc.exists) {
    document.getElementById("profielForm").style.display = "none";
    document.getElementById("melding").textContent = "Profiel niet gevonden!";
    return;
  }
  let d = doc.data();
  document.getElementById("voornaam").value = d.voornaam || "";
  document.getElementById("achternaam").value = d.achternaam || "";
  document.getElementById("doopnaam").value = d.doopnaam || "";
  document.getElementById("email").value = d.email || "";
  document.getElementById("geboortedatum").value = d.geboortedatum || "";
  document.getElementById("loginKeuze").value = d.loginKeuze || "";
  document.getElementById("wachtwoord").value = d.wachtwoord || "";
  document.getElementById("toonVerjaardag").checked = !!d.verjaardagZichtbaar;
});

// Toon/verberg wachtwoord
document.getElementById("pwToggle").onclick = function() {
  let w = document.getElementById("wachtwoord");
  if (w.type === "password") {
    w.type = "text"; this.textContent = "üôà";
  } else {
    w.type = "password"; this.textContent = "üëÅÔ∏è";
  }
};
