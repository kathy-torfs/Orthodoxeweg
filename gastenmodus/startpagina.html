<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Orthodoxeweg ‚Äì Dagkalender</title>

  <!-- FIREBASE CENTRAAL -->
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBG1iQBmruHUZI1OeW8RgbJ_TPit_7a2LQ",
      authDomain: "orthodoxeweg.firebaseapp.com",
      projectId: "orthodoxeweg",
      storageBucket: "orthodoxeweg.appspot.com",
      messagingSenderId: "408582263618",
      appId: "1:408582263618:web:0a20f4bf0704989d3ceedb",
      measurementId: "G-C942F2NYQV"
    };
    if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    console.log("‚úÖ Firebase geladen in gastenmodus");
  </script>

  <!-- Layout script laadt header -->
  <script src="common/layout.js" defer></script>
</head>
<body>

  <!-- HEADER komt uit gastenmodus/common/header.html -->
  <div id="gasten-header"></div>

  <!-- STARTPAGINA-INHOUD (uit root/startpagina.html) -->
  <div id="gasten-startpagina"></div>

  <script>
    (async () => {
      try {
        const resp = await fetch("/startpagina.html", { cache: "no-cache" });
        if (resp.ok) {
          const html = await resp.text();
          const container = document.getElementById("gasten-startpagina");
          container.innerHTML = html;

          // Scripts in root/startpagina.html heractiveren
          container.querySelectorAll("script").forEach(oldScript => {
            const newScript = document.createElement("script");
            if (oldScript.src) {
              newScript.src = oldScript.src;
            } else {
              newScript.textContent = oldScript.textContent;
            }
            document.body.appendChild(newScript);
          });

          console.log("‚úÖ startpagina.html ingeladen en scripts uitgevoerd");
        } else {
          document.getElementById("gasten-startpagina").innerHTML =
            "<p style='text-align:center;color:#a33;margin-top:40px;'>Kon startpagina niet laden.</p>";
          console.error("‚ö†Ô∏è Fout bij ophalen startpagina.html:", resp.status);
        }
      } catch (e) {
        console.error("üö® Fout bij laden startpagina:", e);
        document.getElementById("gasten-startpagina").innerHTML =
          "<p style='text-align:center;color:#a33;margin-top:40px;'>Fout bij laden startpagina.</p>";
      }
    })();
  </script>

</body>
</html>
